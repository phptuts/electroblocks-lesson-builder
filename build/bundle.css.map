{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Form.svelte",
    "Lesson-Preview.svelte",
    "Lesson.svelte",
    "Preview.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">import { onMount } from \"svelte\";\nimport { Col, Container, FormGroup, Row, Input, Label, Button, } from \"sveltestrap\";\nimport Form from \"./Form.svelte\";\nimport Preview from \"./Preview.svelte\";\nimport Lesson from \"./Lessons/Lesson.svelte\";\nimport { saveAs } from \"file-saver\";\nimport lessonStore from \"./lesson.store\";\n;\nlet lessonType = \"Lesson\";\nlet left;\nlet lessonObject;\nlet fileList;\nlet formData;\nlessonStore.subscribe((l) => (lessonObject = l));\nonMount(() => {\n    left = document.body.clientWidth / 2 + 40;\n});\nfunction download() {\n    if (lessonObject.title !== \"\") {\n        const blob = new Blob([JSON.stringify(lessonObject)], {\n            type: \"application/json;charset=utf-8\",\n        });\n        saveAs(blob, lessonObject.title + \".json\");\n    }\n}\nfunction upload() {\n    const file = fileList[0];\n    if (!file) {\n        return;\n    }\n    const fr = new FileReader();\n    fr.onload = function () {\n        const json = JSON.parse(fr.result.toString());\n        formData = json;\n    };\n    fr.readAsText(file);\n}\n</script>\n\n<style>\n  :global(.control-btns) {\n    position: absolute;\n    bottom: 10px;\n  }\n</style>\n\n<Container>\n  <Row>\n    <Col>\n      <h1>Lesson Builder</h1>\n    </Col>\n  </Row>\n  <Row>\n    <Col md=\"3\">\n      <FormGroup>\n        <Label for=\"lessonFile\">Lesson File</Label>\n        <Input\n          size=\"0\"\n          bind:files={fileList}\n          readonly={false}\n          type=\"file\"\n          name=\"file\"\n          accept=\"application/json\"\n          id=\"lessonFile\" />\n      </FormGroup>\n    </Col>\n    <Col md=\"2\">\n      <Button on:click={upload} class=\"control-btns\" color=\"primary\">\n        Load\n      </Button>\n    </Col>\n    <Col md=\"2\">\n      <Button class=\"control-btns\" on:click={download} color=\"success\">\n        Download\n      </Button>\n    </Col>\n  </Row>\n  <Row>\n    <Col md=\"6\">\n      <Form bind:formData />\n    </Col>\n    <Col md=\"6\">\n      <Preview bind:preview={lessonType} />\n    </Col>\n  </Row>\n</Container>\n<!-- Doing this because of absolute positioning -->\n{#if lessonType == 'Lesson'}\n  <Lesson top={270} {left} />\n{/if}\n",
    "<script lang=\"ts\">import { v4 as generaterId } from \"uuid\";\nimport { Form, FormGroup, FormText, Input, Label, Button } from \"sveltestrap\";\n;\nimport lessonStore from \"./lesson.store\";\nexport let formData = {\n    title: \"\",\n    id: generaterId(),\n    version: 1,\n    contentType: \"png\",\n    folderName: \"\",\n    authorFolderName: \"\",\n    author: \"\",\n    email: \"\",\n    steps: [],\n};\naddStep();\nfunction addStep() {\n    formData.steps = [\n        ...formData.steps,\n        {\n            title: \"\",\n            contentType: \"png\",\n            id: generaterId(),\n            youtubeId: \"\",\n        },\n    ];\n    formData.steps = [...formData.steps];\n}\nfunction deleteStep(e) {\n    const stepId = e.target.getAttribute(\"data-id\");\n    console.log(stepId);\n    formData.steps = [...formData.steps.filter((s) => s.id !== stepId)];\n    console.log(formData.steps, \"deleted the steps\");\n}\nconst reorderArray = (oldIndex, newIndex) => {\n    const movedItem = formData.steps.find((item, index) => index === oldIndex);\n    const remainingItems = formData.steps.filter((item, index) => index !== oldIndex);\n    formData.steps = [\n        ...remainingItems.slice(0, newIndex),\n        movedItem,\n        ...remainingItems.slice(newIndex),\n    ];\n};\n$: lessonStore.set(formData);\n</script>\n\n<style>\n  .add-step-container {\n    display: block;\n    margin: 20px 0;\n    text-align: right;\n  }\n  .step {\n    margin: 50px 0;\n  }\n</style>\n\n<Form>\n  <FormGroup>\n    <Label for=\"lesson_title\">Title</Label>\n    <Input\n      bind:value={formData.title}\n      type=\"text\"\n      size=\"1\"\n      readonly={false}\n      id=\"lesson_title\"\n      placeholder=\"title\" />\n  </FormGroup>\n  <FormGroup>\n    <Label for=\"author\">Author's Name</Label>\n    <Input\n      bind:value={formData.author}\n      type=\"text\"\n      size=\"1\"\n      readonly={false}\n      id=\"author\" />\n  </FormGroup>\n  <FormGroup>\n    <Label for=\"author_email\">Author's Email</Label>\n    <Input\n      bind:value={formData.email}\n      type=\"text\"\n      size=\"1\"\n      readonly={false}\n      id=\"author_email\" />\n  </FormGroup>\n  <FormGroup>\n    <Label for=\"company_folder\">Author's Folder</Label>\n    <Input\n      bind:value={formData.authorFolderName}\n      type=\"text\"\n      size=\"1\"\n      readonly={false}\n      id=\"company_folder\" />\n  </FormGroup>\n  <FormGroup>\n    <Label for=\"folder_name\">Lesson's Folder</Label>\n    <Input\n      bind:value={formData.folderName}\n      type=\"text\"\n      size=\"1\"\n      readonly={false}\n      id=\"folder_name\" />\n  </FormGroup>\n\n  <FormGroup>\n    <Label for=\"contentType\">Preview Image Content Type</Label>\n    <Input\n      readonly={false}\n      size=\"1\"\n      type=\"select\"\n      bind:value={formData.contentType}\n      id=\"contentType\">\n      <option>png</option>\n      <option>jpg</option>\n      <option>gif</option>\n    </Input>\n  </FormGroup>\n  <div class=\"add-step-container\">\n    <Button on:click={addStep} type=\"button\" color=\"primary\">Add Step</Button>\n  </div>\n\n  {#each formData.steps as step, index}\n    <section class=\"step\">\n\n      <h2>Step {index + 1}</h2>\n      <input\n        type=\"hidden\"\n        id=\"step-{index}-id\"\n        bind:value={formData.steps[index].id} />\n      <FormGroup>\n        <Label for=\"step_{index}_title\">Title</Label>\n        <Input\n          type=\"text\"\n          size=\"1\"\n          readonly={false}\n          id=\"step_{index}_title\"\n          bind:value={formData.steps[index].title}\n          placeholder=\"title\" />\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"step_{index}_type\">Content Type</Label>\n        <Input\n          readonly={false}\n          size=\"1\"\n          type=\"select\"\n          bind:value={formData.steps[index].contentType}\n          id=\"step_{index}_type\">\n          <option>youtube</option>\n          <option>png</option>\n          <option>jpg</option>\n          <option>gif</option>\n        </Input>\n      </FormGroup>\n      {#if formData.steps[index].contentType === 'youtube'}\n        <FormGroup>\n          <Label for=\"step_{index}_youtube_id\">Youtube Id</Label>\n          <Input\n            type=\"text\"\n            size=\"1\"\n            readonly={false}\n            id=\"step_{index}_youtube_id\"\n            bind:value={formData.steps[index].youtubeId}\n            placeholder=\"YoutubeId\" />\n        </FormGroup>\n      {/if}\n      {#if formData.steps.length > 1}\n        <Button\n          type=\"button\"\n          color=\"danger\"\n          data-id={formData.steps[index].id}\n          on:click={deleteStep}>\n          Delete\n        </Button>\n        {#if index > 0}\n          <Button\n            on:click={() => reorderArray(index, index - 1)}\n            color=\"info\"\n            type=\"button\">\n            Up\n          </Button>\n        {/if}\n        {#if index + 1 < formData.steps.length}\n          <Button\n            on:click={() => reorderArray(index, index + 1)}\n            color=\"info\"\n            type=\"button\">\n            Down\n          </Button>\n        {/if}\n      {/if}\n    </section>\n  {/each}\n\n</Form>\n\n<pre>{JSON.stringify(formData, null, 2)}</pre>\n",
    "<script lang=\"ts\">;\nimport lessonStore from \"../lesson.store\";\n$: lessonMainImage = $lessonStore\n    ? `http://localhost:3000/lessons/${$lessonStore.authorFolderName}/${$lessonStore.folderName}/main.${$lessonStore.contentType}`\n    : \"\";\n$: lessonGetKey = $lessonStore\n    ? `${$lessonStore.title.replace(\" \", \"-\")}`\n    : \"\";\n</script>\n\n<style>\n  article {\n    margin-bottom: 10px;\n    flex: 1;\n    margin: 20px;\n    cursor: pointer;\n    width: 300px;\n  }\n  article img {\n    width: 300px;\n    height: 200px;\n    border: solid gray 1px;\n  }\n  article h2 {\n    border: solid gray 1px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white;\n    text-align: center;\n    padding: 10px;\n  }\n</style>\n\n<article data-lesson={lessonGetKey}>\n  <img src={lessonMainImage} alt={$lessonStore?.title} />\n  <h2>{$lessonStore?.title}</h2>\n</article>\n",
    "<script lang=\"ts\">import lessonStore from \"../lesson.store\";\nimport { createEventDispatcher } from \"svelte\";\nexport let top = 300;\nexport let left = 300;\nconst dispatcher = createEventDispatcher();\nlet stepIndex = 0;\nlet lesson = undefined;\nlet closeP;\nlessonStore.subscribe((newLesson) => {\n    lesson = newLesson;\n});\n$: stepIndex =\n    lesson && lesson.steps.length <= stepIndex && stepIndex > 0\n        ? lesson.steps.length - 1\n        : stepIndex;\n$: currentStep = lesson && lesson.steps[stepIndex];\n$: isYoutube = currentStep && [\"youtube\"].includes(currentStep.contentType);\n$: isImage =\n    currentStep && [\"png\", \"gif\", \"jpg\"].includes(currentStep.contentType);\n$: url =\n    currentStep && lesson\n        ? `http://localhost:3000/lessons/${lesson.authorFolderName}/${lesson.folderName}/step-${stepIndex + 1}.${currentStep.contentType}`\n        : \"\";\nfunction moveBack() {\n    if (stepIndex > 0) {\n        stepIndex -= 1;\n    }\n}\nfunction moveForward() {\n    if (stepIndex <= lesson.steps.length - 2) {\n        stepIndex += 1;\n    }\n}\nfunction close() {\n    dispatcher(\"close\");\n}\nlet moving = false;\nlet offsetX = 0;\nlet offsetY = 0;\nlet layerY;\nfunction startMove(e) {\n    moving = true;\n    ({ offsetY, offsetX, layerY } = e);\n}\nfunction move(e) {\n    if (moving) {\n        console.log(closeP.clientHeight);\n        debugger;\n        top = e.pageY - closeP.clientHeight - offsetY;\n        left = e.pageX - offsetX;\n    }\n}\nfunction stopMove() {\n    moving = false;\n    console.log(\"stop\");\n}\n</script>\n\n<style>\n  section#lesson {\n    width: 560px;\n    height: 500px;\n    margin: 0;\n    border-radius: 4px;\n    position: absolute;\n    right: -30px;\n  }\n  section#header {\n    display: flex;\n    justify-content: space-around;\n    height: 40px;\n    background-color: #505bda;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    cursor: move;\n    margin: 0;\n  }\n  section#header span {\n    border-radius: 7.5px;\n    width: 15px;\n    height: 15px;\n    background-color: #fff;\n    margin-top: 12.5px;\n  }\n  section#header span.active {\n    background-color: #ffaac3;\n  }\n  img {\n    width: 560px;\n    height: 315px;\n  }\n  h3#text {\n    text-align: center;\n    background-color: #fff;\n    padding: 6px;\n    margin: 0;\n  }\n\n  section#controls {\n    display: flex;\n    justify-content: space-evenly;\n  }\n  section#controls button {\n    flex: 1;\n  }\n\n  button {\n    margin: 5px;\n    border: none;\n    border-radius: 2px;\n    font-size: 20px;\n    padding: 0 10px;\n    width: 50px;\n    height: 40px;\n    margin-top: 10px;\n    cursor: pointer;\n  }\n  button i {\n    transition: ease-in-out 0.4s font-size;\n  }\n  button:focus,\n  button:active {\n    outline: none;\n  }\n  button:active i {\n    font-size: 18px;\n  }\n  button:disabled {\n    cursor: not-allowed;\n    background-color: rgb(251, 251, 247);\n  }\n  button:disabled i {\n    font-size: 20px;\n  }\n  p#close {\n    text-align: right;\n    font-size: 20px;\n    margin-right: 5px;\n    cursor: pointer;\n    margin: 5px;\n    height: 28px;\n  }\n</style>\n\n<section style=\"left: {left}px; top: {top}px;\" id=\"lesson\">\n  <p on:click={close} bind:this={closeP} id=\"close\">close</p>\n  <section on:mousedown={startMove} id=\"header\">\n    {#if lesson.steps.length > 1}\n      {#each lesson.steps as step, index}\n        <span class:active={stepIndex == index} data-step={index} />\n      {/each}\n    {/if}\n  </section>\n  {#if currentStep.title !== ''}\n    <h3 id=\"text\">{currentStep.title}</h3>\n  {/if}\n  {#if isYoutube}\n    <iframe\n      title={currentStep.title}\n      width=\"560\"\n      height=\"315\"\n      src=\"https://www.youtube.com/embed/{currentStep.youtubeId}\"\n      frameborder=\"0\"\n      allow=\"accelerometer; autoplay; encrypted-media; gyroscope;\n      picture-in-picture\"\n      allowfullscreen />\n  {/if}\n\n  {#if isImage}\n    <img src={url} alt=\"step {stepIndex + 1}\" id=\"main-image\" />\n  {/if}\n  {#if lesson.steps.length > 1}\n    <section id=\"controls\">\n      <button on:click={moveBack} disabled={stepIndex === 0} id=\"back\">\n        <i class=\"fa fa-arrow-left\" aria-hidden=\"true\" />\n      </button>\n      <button\n        on:click={moveForward}\n        disabled={stepIndex === lesson.steps.length - 1}\n        id=\"forward\">\n        <i class=\"fa fa-arrow-right\" aria-hidden=\"true\" />\n      </button>\n    </section>\n  {/if}\n</section>\n<svelte:body on:mousemove={move} on:mouseup={stopMove} />\n",
    "<script>\n  import LessonPreview from \"./Lessons/Lesson-Preview.svelte\";\n  import Lesson from \"./Lessons/Lesson.svelte\";\n  import { FormGroup, Input, Label } from \"sveltestrap\";\n\n  export let preview = \"Lesson\";\n</script>\n\n<style>\n  #lesson-selector-preview,\n  #lesson-preview {\n    width: 600px;\n    height: 650px;\n    border: solid gray 1px;\n  }\n  h2 {\n    text-align: center;\n    margin-top: 20px;\n  }\n</style>\n\n<FormGroup>\n  <Label for=\"contentType\" />\n  <Input\n    readonly={false}\n    size=\"1\"\n    type=\"select\"\n    bind:value={preview}\n    id=\"contentType\">\n    <option>Lesson</option>\n    <option>Lesson Selector</option>\n  </Input>\n</FormGroup>\n{#if preview == 'Lesson Selector'}\n  <div id=\"lesson-selector-preview\">\n    <h2>Lesson Selector Preview</h2>\n    <LessonPreview />\n  </div>\n{/if}\n{#if preview == 'Lesson'}\n  <div id=\"lesson-preview\">\n    <h2>Lesson Preview</h2>\n  </div>\n{/if}\n"
  ],
  "names": [],
  "mappings": "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"
}